<div class="container my-3" id="print-section">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <button
            class="end btn bg-primary text-light btn-custom-sm"
            (click)="editpro(cust.Cust_ID)"
          >
            <i class="fas fa-pencil-alt"></i>
          </button>

          <div class="row mb-4">
            <div class="col-md-12">
              <h3 class="fw-bold">Customer Transactions Record</h3>

              <div class="row">
                <div class="col-md-3 mt-3">
                  <img
                    class="img-responsive img-fluid"
                    alt="logo"
                    src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
                  />
                </div>
                <div class="col-md">
                  <div class="row mt-5">
                    <h5>Customer Name:</h5>
                    <h2 class="mt-1">
                      {{ cust.Cust_fname }} {{ cust.Cust_mname }}
                      {{ cust.Cust_lname }}
                    </h2>
                    <div class="col-md mt-1">
                      <p class="mt-2"><b>Phone Number:</b></p>
                      <p>{{ cust.Cust_phoneno }}</p>
                    </div>
                    <div class="col-md mt-1">
                      <p class="mt-2"><b>Customer Address:</b></p>
                      <p>{{ cust.Cust_address }}</p>
                    </div>
                    <div class="col-md mt-1">
                      <p class="mt-2"><b>Customer Email:</b></p>
                      <p>{{ cust.Cust_email }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <h3 class="text-center">Transaction History</h3>
          <div class="table-responsive table-wrapper">
            <table class="table table-bordered table-hover">
              <thead class="table-light sticky-thead">
                <tr class="text-center">
                  <th>No.</th>
                  <th>Trans. Number</th>
                  <th>Received Date</th>
                  <th>Staff Received</th>
                  <th>Laundry Details</th>
                  <th>Amount</th>
                  <th>Status</th>
                  <th>Date Delivered</th>
                  <th>Staff-in-charge</th>
                </tr>
              </thead>
              <tbody>
                <!-- Placeholder Rows -->
                <tr *ngIf="isLoading">
                  <td colspan="9" class="text-center">
                    <div class="placeholder-row"></div>
                  </td>
                </tr>
                @for (c of histo; track c.Transac_ID) {
                <tr
                  class="text-center"
                  *ngIf="!isLoading"
                  (click)="history(c.Transac_ID)"
                >
                  <td>{{ $index + 1 }}</td>
                  <td>{{ c.Tracking_number | slice : 0 : 10 }}...</td>
                  <td>{{ c.Transac_datetime }}</td>
                  <td>
                    {{ c.Admin_fname | slice : 0 : 1 }}. {{ c.Admin_lname }}
                  </td>
                  <td>{{ c.Category | slice : 0 : 10 }}...</td>
                  <td>{{ c.totalprice | currency : " " : "symbol" }}</td>
                  <td>{{ c.latest_transac_status | slice : 0 : 10 }}...</td>
                  <td>{{ c.latest_transac_datetime }}</td>
                  <td>{{ c.latest_admin_name | slice : 0 : 10 }}...</td>
                </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <button
        class="end btn btn-primary mt-3"
        routerLink="/main/customertpage/main/view"
      >
        Back
      </button>
    </div>
  </div>
</div>
